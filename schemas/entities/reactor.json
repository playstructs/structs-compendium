{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "version": "1.1.0",
  "title": "Reactor Entity Schema",
  "description": "Reactor entity definition - extracted from game-state.json for context window optimization. See schemas/formats.json for format specifications.",
  "type": "object",
  "structs:entity": "Reactor",
  "structs:endpoint": "/structs/reactor/{id}",
  "structs:category": "resource",
  "properties": {
    "id": {
      "type": "string",
      "structs:format": "entity-id",
      "pattern": "^3-[0-9]+$",
      "description": "Unique reactor identifier in format 'type-index' (e.g., '3-1' for reactor type 3, index 1). Type 3 = Reactor."
    },
    "ownerId": {
      "type": "string",
      "structs:format": "entity-id",
      "pattern": "^1-[0-9]+$",
      "structs:relationship": "Player",
      "description": "Player who owns this reactor. Format: 'type-index' (e.g., '1-11' for player type 1, index 11). Type 1 = Player."
    },
    "gridAttributes": {
      "type": "object",
      "description": "Grid position and attributes",
      "additionalProperties": true
    },
    "validator": {
      "type": "string",
      "description": "Validator address for validation delegation (if staked)",
      "structs:format": "blockchain-address"
    },
    "guildId": {
      "type": "string",
      "structs:format": "entity-id",
      "pattern": "^0-[0-9]+$",
      "structs:relationship": "Guild",
      "description": "Guild ID associated with this reactor (if applicable). Format: 'type-index' (e.g., '0-1' for guild type 0, index 1). Type 0 = Guild."
    },
    "defaultCommission": {
      "type": "string",
      "description": "Default commission rate for this reactor (string representation)"
    },
    "staking": {
      "type": "object",
      "description": "Reactor staking information (v0.8.0-beta)",
      "properties": {
        "staked": {
          "type": "boolean",
          "description": "Whether this reactor has staked delegation"
        },
        "delegationAmount": {
          "type": "string",
          "description": "Amount of delegation staked (string representation)"
        },
        "delegationStatus": {
          "type": "string",
          "enum": ["active", "undelegating", "migrating"],
          "description": "Current delegation status. 'active' = actively delegated, 'undelegating' = in undelegation period, 'migrating' = in migration/redelegation process"
        }
      }
    }
  },
  "required": ["id", "ownerId"],
  "structs:relationships": {
    "owner": "schemas/entities/player.json",
    "guild": "schemas/entities/guild.json"
  },
  "structs:verification": {
    "verified": true,
    "verifiedBy": "GameCodeAnalyst",
    "verifiedDate": "2025-01-XX",
    "verificationMethod": "code-analysis",
    "confidence": "high",
    "note": "API response schema. Staking fields added in v0.8.0-beta. Reactor staking is now managed at player level. Validation delegation is abstracted via Reactor Infuse/Defuse actions. For code-based field definitions, see schemas/entities.json#/definitions/Reactor",
    "codeReference": "x/structs/types/reactor.pb.go, x/structs/keeper/reactor_cache.go",
    "databaseReference": "structs.reactor table (columns: id, validator, guild_id, default_commission)",
    "verifiedFields": ["id", "ownerId", "validator", "guildId", "defaultCommission", "staking"],
    "version": "1.1.0"
  }
}

